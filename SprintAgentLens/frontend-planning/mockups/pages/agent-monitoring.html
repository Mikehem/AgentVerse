<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Monitoring - Sprint Agent Lens</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../assets/base.css">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }
        
        .metric-card {
            background: var(--color-background-card);
            border: 1px solid var(--color-border-light);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .metric-change {
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .metric-change.positive {
            color: var(--color-success);
        }
        
        .metric-change.negative {
            color: #dc3545;
        }
        
        .agent-status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 1rem;
        }
        
        .agent-card {
            background: var(--color-background-card);
            border: 1px solid var(--color-border-light);
            border-radius: var(--radius-lg);
            padding: 1.5rem;
            transition: all var(--transition-normal);
        }
        
        .agent-card:hover {
            box-shadow: 0 4px 8px var(--shadow-medium);
        }
        
        .agent-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        
        .agent-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .status-dot {
            width: 0.5rem;
            height: 0.5rem;
            border-radius: var(--radius-full);
        }
        
        .status-dot.online {
            background: var(--color-success);
        }
        
        .status-dot.offline {
            background: #dc3545;
        }
        
        .status-dot.warning {
            background: var(--color-warning);
        }
        
        .agent-metrics {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .agent-metric {
            text-align: center;
        }
        
        .agent-metric-value {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--color-primary);
        }
        
        .agent-metric-label {
            font-size: 0.75rem;
            color: var(--color-text-muted);
            text-transform: uppercase;
        }
        
        .activity-log {
            background: var(--color-background);
            border: 1px solid var(--color-border);
            border-radius: var(--radius-md);
            padding: 1rem;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .activity-item {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--color-border-light);
        }
        
        .activity-item:last-child {
            border-bottom: none;
        }
        
        .activity-icon {
            width: 2rem;
            height: 2rem;
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .activity-icon.success {
            background: rgba(167, 180, 158, 0.2);
            color: var(--color-success);
        }
        
        .activity-icon.error {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
        }
        
        .activity-icon.info {
            background: rgba(92, 114, 133, 0.2);
            color: var(--color-primary);
        }
        
        .activity-content {
            flex: 1;
        }
        
        .activity-title {
            font-weight: 500;
            margin-bottom: 0.25rem;
        }
        
        .activity-description {
            font-size: 0.875rem;
            color: var(--color-text-muted);
            margin-bottom: 0.25rem;
        }
        
        .activity-timestamp {
            font-size: 0.75rem;
            color: var(--color-text-muted);
        }
        
        .chart-container {
            position: relative;
            height: 300px;
            background: var(--color-background-card);
            border: 1px solid var(--color-border-light);
            border-radius: var(--radius-lg);
            padding: 1rem;
        }
        
        .alert-banner {
            background: rgba(220, 53, 69, 0.1);
            border: 1px solid rgba(220, 53, 69, 0.3);
            color: #dc3545;
            padding: 1rem;
            border-radius: var(--radius-md);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .performance-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius-full);
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
        }
        
        .performance-excellent {
            background: rgba(167, 180, 158, 0.2);
            color: var(--color-success);
        }
        
        .performance-good {
            background: rgba(92, 114, 133, 0.2);
            color: var(--color-primary);
        }
        
        .performance-warning {
            background: rgba(212, 176, 106, 0.2);
            color: var(--color-warning);
        }
        
        .performance-critical {
            background: rgba(220, 53, 69, 0.2);
            color: #dc3545;
        }

        @media (max-width: 768px) {
            .metrics-grid {
                grid-template-columns: 1fr 1fr;
            }
            
            .agent-status-grid {
                grid-template-columns: 1fr;
            }
            
            .agent-metrics {
                grid-template-columns: 1fr;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body class="bg-background">
    <div class="container mx-auto py-6">
        <!-- Header -->
        <div class="flex items-center justify-between mb-6">
            <div>
                <nav class="breadcrumb">
                    <a href="main-dashboard.html" class="breadcrumb-item">
                        <i data-lucide="home" class="w-4 h-4"></i>
                        Dashboard
                    </a>
                    <span class="breadcrumb-separator">
                        <i data-lucide="chevron-right" class="w-3 h-3"></i>
                    </span>
                    <a href="individual-project-view.html" class="breadcrumb-item">E-commerce Support</a>
                    <span class="breadcrumb-separator">
                        <i data-lucide="chevron-right" class="w-3 h-3"></i>
                    </span>
                    <span class="breadcrumb-current">Agent Monitoring</span>
                </nav>
                <h1 class="text-3xl font-bold text-primary mt-2">Agent Monitoring</h1>
                <p class="text-muted mt-1">Real-time performance and health monitoring for your AI agents</p>
            </div>
            <div class="flex gap-2">
                <button class="btn btn-outline">
                    <i data-lucide="download" class="w-4 h-4"></i>
                    Export Report
                </button>
                <button class="btn btn-primary">
                    <i data-lucide="settings" class="w-4 h-4"></i>
                    Configure Alerts
                </button>
            </div>
        </div>

        <!-- Alert Banner -->
        <div class="alert-banner">
            <i data-lucide="alert-triangle" class="w-5 h-5"></i>
            <div>
                <strong>Performance Alert:</strong> Routing Agent response time has increased by 23% in the last hour. 
                <a href="#" class="underline">View details</a>
            </div>
        </div>

        <!-- Key Metrics -->
        <div class="card mb-6">
            <div class="card-header">
                <h2 class="text-xl font-semibold text-primary">System Overview</h2>
                <p class="text-muted">Last updated: 2 minutes ago</p>
            </div>
            
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value text-primary">98.2%</div>
                    <div class="text-sm text-muted mb-2">System Uptime</div>
                    <div class="metric-change positive">
                        <i data-lucide="trending-up" class="w-4 h-4"></i>
                        +0.1% from yesterday
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-value text-success">1,247</div>
                    <div class="text-sm text-muted mb-2">Active Conversations</div>
                    <div class="metric-change positive">
                        <i data-lucide="trending-up" class="w-4 h-4"></i>
                        +156 from last hour
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-value text-warning">1.3s</div>
                    <div class="text-sm text-muted mb-2">Avg Response Time</div>
                    <div class="metric-change negative">
                        <i data-lucide="trending-down" class="w-4 h-4"></i>
                        +0.2s from baseline
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-value text-accent">94.7%</div>
                    <div class="text-sm text-muted mb-2">Success Rate</div>
                    <div class="metric-change positive">
                        <i data-lucide="trending-up" class="w-4 h-4"></i>
                        +1.2% from yesterday
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-value text-secondary">$47.83</div>
                    <div class="text-sm text-muted mb-2">Cost Today</div>
                    <div class="metric-change positive">
                        <i data-lucide="trending-up" class="w-4 h-4"></i>
                        Within budget
                    </div>
                </div>
                
                <div class="metric-card">
                    <div class="metric-value text-primary">8.9</div>
                    <div class="text-sm text-muted mb-2">Customer Satisfaction</div>
                    <div class="metric-change positive">
                        <i data-lucide="trending-up" class="w-4 h-4"></i>
                        +0.3 from last week
                    </div>
                </div>
            </div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6">
            <!-- Response Time Chart -->
            <div class="chart-container">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-primary">Response Time Trends</h3>
                    <select class="form-input text-sm py-1 px-2">
                        <option>Last 24 hours</option>
                        <option>Last 7 days</option>
                        <option>Last 30 days</option>
                    </select>
                </div>
                <canvas id="responseTimeChart" width="400" height="200"></canvas>
            </div>
            
            <!-- Conversation Volume Chart -->
            <div class="chart-container">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-semibold text-primary">Conversation Volume</h3>
                    <select class="form-input text-sm py-1 px-2">
                        <option>Today</option>
                        <option>Yesterday</option>
                        <option>Last 7 days</option>
                    </select>
                </div>
                <canvas id="volumeChart" width="400" height="200"></canvas>
            </div>
        </div>

        <!-- Agent Status Grid -->
        <div class="card mb-6">
            <div class="card-header">
                <h2 class="text-xl font-semibold text-primary">Agent Status</h2>
                <div class="flex items-center gap-4 text-sm">
                    <div class="flex items-center gap-1">
                        <div class="status-dot online"></div>
                        <span>2 Online</span>
                    </div>
                    <div class="flex items-center gap-1">
                        <div class="status-dot warning"></div>
                        <span>1 Warning</span>
                    </div>
                    <div class="flex items-center gap-1">
                        <div class="status-dot offline"></div>
                        <span>0 Offline</span>
                    </div>
                </div>
            </div>
            
            <div class="agent-status-grid">
                <!-- Conversational Agent -->
                <div class="agent-card">
                    <div class="agent-header">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-primary rounded-lg flex items-center justify-center">
                                <i data-lucide="message-circle" class="w-5 h-5 text-inverse"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-primary">Conversational Agent</h3>
                                <p class="text-sm text-muted">Customer Support Bot</p>
                            </div>
                        </div>
                        <div class="agent-status">
                            <div class="status-dot online"></div>
                            <span class="text-sm text-success">Online</span>
                        </div>
                    </div>
                    
                    <div class="agent-metrics">
                        <div class="agent-metric">
                            <div class="agent-metric-value">842</div>
                            <div class="agent-metric-label">Conversations</div>
                        </div>
                        <div class="agent-metric">
                            <div class="agent-metric-value">1.1s</div>
                            <div class="agent-metric-label">Response Time</div>
                        </div>
                        <div class="agent-metric">
                            <div class="agent-metric-value">96.3%</div>
                            <div class="agent-metric-label">Success Rate</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="performance-badge performance-excellent">
                            <i data-lucide="check-circle" class="w-3 h-3"></i>
                            Excellent
                        </div>
                        <div class="flex gap-2">
                            <button class="btn btn-sm btn-outline">View Logs</button>
                            <button class="btn btn-sm btn-primary">Configure</button>
                        </div>
                    </div>
                </div>
                
                <!-- Routing Agent -->
                <div class="agent-card">
                    <div class="agent-header">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-accent rounded-lg flex items-center justify-center">
                                <i data-lucide="git-branch" class="w-5 h-5 text-inverse"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-primary">Routing Agent</h3>
                                <p class="text-sm text-muted">Ticket Router</p>
                            </div>
                        </div>
                        <div class="agent-status">
                            <div class="status-dot warning"></div>
                            <span class="text-sm text-warning">Warning</span>
                        </div>
                    </div>
                    
                    <div class="agent-metrics">
                        <div class="agent-metric">
                            <div class="agent-metric-value">405</div>
                            <div class="agent-metric-label">Routes</div>
                        </div>
                        <div class="agent-metric">
                            <div class="agent-metric-value">1.8s</div>
                            <div class="agent-metric-label">Response Time</div>
                        </div>
                        <div class="agent-metric">
                            <div class="agent-metric-value">91.2%</div>
                            <div class="agent-metric-label">Accuracy</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="performance-badge performance-warning">
                            <i data-lucide="alert-triangle" class="w-3 h-3"></i>
                            Degraded
                        </div>
                        <div class="flex gap-2">
                            <button class="btn btn-sm btn-outline">View Logs</button>
                            <button class="btn btn-sm btn-primary">Configure</button>
                        </div>
                    </div>
                </div>
                
                <!-- Knowledge Agent -->
                <div class="agent-card">
                    <div class="agent-header">
                        <div class="flex items-center gap-2">
                            <div class="w-8 h-8 bg-warning rounded-lg flex items-center justify-center">
                                <i data-lucide="book-open" class="w-5 h-5 text-inverse"></i>
                            </div>
                            <div>
                                <h3 class="font-semibold text-primary">Knowledge Agent</h3>
                                <p class="text-sm text-muted">FAQ & Documentation</p>
                            </div>
                        </div>
                        <div class="agent-status">
                            <div class="status-dot online"></div>
                            <span class="text-sm text-success">Online</span>
                        </div>
                    </div>
                    
                    <div class="agent-metrics">
                        <div class="agent-metric">
                            <div class="agent-metric-value">324</div>
                            <div class="agent-metric-label">Queries</div>
                        </div>
                        <div class="agent-metric">
                            <div class="agent-metric-value">0.7s</div>
                            <div class="agent-metric-label">Response Time</div>
                        </div>
                        <div class="agent-metric">
                            <div class="agent-metric-value">98.1%</div>
                            <div class="agent-metric-label">Hit Rate</div>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between">
                        <div class="performance-badge performance-excellent">
                            <i data-lucide="check-circle" class="w-3 h-3"></i>
                            Excellent
                        </div>
                        <div class="flex gap-2">
                            <button class="btn btn-sm btn-outline">View Logs</button>
                            <button class="btn btn-sm btn-primary">Configure</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Log -->
        <div class="card">
            <div class="card-header">
                <h2 class="text-xl font-semibold text-primary">Recent Activity</h2>
                <button class="btn btn-sm btn-outline">
                    <i data-lucide="external-link" class="w-4 h-4"></i>
                    View All Logs
                </button>
            </div>
            
            <div class="activity-log">
                <div class="activity-item">
                    <div class="activity-icon error">
                        <i data-lucide="alert-circle" class="w-4 h-4"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Routing Agent Performance Degraded</div>
                        <div class="activity-description">Response time increased to 1.8s (23% above baseline)</div>
                        <div class="activity-timestamp">2 minutes ago</div>
                    </div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon success">
                        <i data-lucide="check-circle" class="w-4 h-4"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Knowledge Base Updated</div>
                        <div class="activity-description">Added 47 new FAQ entries for product returns</div>
                        <div class="activity-timestamp">15 minutes ago</div>
                    </div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon info">
                        <i data-lucide="info" class="w-4 h-4"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Daily Health Check Completed</div>
                        <div class="activity-description">All agents passed health verification tests</div>
                        <div class="activity-timestamp">1 hour ago</div>
                    </div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon success">
                        <i data-lucide="trending-up" class="w-4 h-4"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Customer Satisfaction Improved</div>
                        <div class="activity-description">CSAT score increased to 8.9/10 (+0.3 from last week)</div>
                        <div class="activity-timestamp">2 hours ago</div>
                    </div>
                </div>
                
                <div class="activity-item">
                    <div class="activity-icon info">
                        <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                    </div>
                    <div class="activity-content">
                        <div class="activity-title">Model Updated</div>
                        <div class="activity-description">Conversational Agent upgraded to GPT-4 Turbo</div>
                        <div class="activity-timestamp">3 hours ago</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        
        // Initialize charts
        const ctx1 = document.getElementById('responseTimeChart').getContext('2d');
        const responseTimeChart = new Chart(ctx1, {
            type: 'line',
            data: {
                labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '24:00'],
                datasets: [{
                    label: 'Response Time (s)',
                    data: [1.2, 1.1, 1.3, 1.5, 1.8, 1.6, 1.3],
                    borderColor: '#5C7285',
                    backgroundColor: 'rgba(92, 114, 133, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        max: 2
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
        
        const ctx2 = document.getElementById('volumeChart').getContext('2d');
        const volumeChart = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00', '24:00'],
                datasets: [{
                    label: 'Conversations',
                    data: [45, 23, 89, 167, 234, 189, 98],
                    backgroundColor: 'rgba(167, 180, 158, 0.8)',
                    borderColor: '#A7B49E',
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },
                plugins: {
                    legend: {
                        display: false
                    }
                }
            }
        });
        
        // Auto-refresh data every 30 seconds
        setInterval(() => {
            console.log('Refreshing monitoring data...');
        }, 30000);
    </script>
</body>
</html>